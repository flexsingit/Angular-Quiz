<div class="add-post" >
  <mat-progress-bar *ngIf="isLoading" 
      class="h-loader" color="primary" mode="indeterminate">
  </mat-progress-bar>
  <mat-card>
  <div class="full-loader" fxLayout="column" fxLayoutAlign="center center" *ngIf="isLoading">
    <div><mat-progress-spinner diameter="50" strokeWidth="3" color="primary" mode="indeterminate">
    </mat-progress-spinner>
    </div>
  
  </div>
    <div class="card-header" fxLayout="row" fxLayoutAlign="space-between center">
      <div>
        <b>{{pageTitle}}</b>
      </div>
        <button mat-icon-button routerLink="" [disabled]="isLoading">
          <mat-icon aria-label="back">close</mat-icon>
        </button>
    </div>
  
    <mat-card-content>
    <form [formGroup]="form" (ngSubmit)="onSubmit()" fxLayout="column" fxLayoutAlign="center stretch">
      
      <mat-form-field class="input-box">
        <textarea
          matInput 
          placeholder="Post Title" 
          formControlName="title" 
          required></textarea>
        <mat-error *ngIf="form.controls.title.errors">
          <span *ngIf="form.controls.title.errors.required"> Post title is required </span>
        </mat-error>
      </mat-form-field>

      <div> &nbsp;</div>

      <mat-form-field class="input-box">
        <textarea
          required 
          matInput class="large"
          formControlName="body" 
          placeholder="Post Description"></textarea>

        <mat-error *ngIf="form.controls.body.errors">
          <span *ngIf="form.controls.body.errors.required"> Post description is required </span>
        </mat-error>
      </mat-form-field>

      <div fxLayout="row" fxLayoutAlign="center center">
          <button 
            [disabled] ="isLoading"
            mat-raised-button color="primary" type="submit">
            {{ isLoading  ? 'Processing..': 'Submit'}}
          </button>
          <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
            <button [disabled] ="isLoading" routerLink ="" type="button" mat-raised-button color="warn">
              Cancel
            </button>
      </div>
    </form>
    </mat-card-content>
  </mat-card>
</div>